<!DOCTYPE html>
<html>
  <head>
    <title>Broadcaster</title>
    <meta charset="UTF-8" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              secondary: "#8ECAE6",
              accent: "#219EBC",
              dark: "#023047",
              warning: "#FFB703",
              primary: "#FB8500",
            },
          },
        },
      };
    </script>
  </head>
  <body class="bg-dark text-secondary">
    <div class="flex justify-center mt-4">
      <video
        playsinline
        autoplay
        muted
        class="w-full max-w-md border-4 border-primary hidden"
      ></video>
    </div>

    <!-- Sección de controles -->
    <div class="flex justify-center mt-4">
      <button
        id="toggleBroadcast"
        class="bg-accent text-white px-4 py-2 rounded mr-2"
      >
        Iniciar Transmisión
      </button>
      <button
        id="changeSource"
        class="bg-accent text-white px-4 py-2 rounded hidden"
      >
        Cambiar origen de video
      </button>
    </div>

    <div
      id="stats"
      class="fixed bottom-0 left-0 bg-gray-900 bg-opacity-75 text-white p-2 m-2 rounded text-sm"
    >
      <p>Peering Activo:</p>
      <p>Candidate Pair Enviado:</p>
      <p>Outbound RTP Enviado:</p>
      <p>Bytes Enviados (Transport):</p>
      <p>Bytes Recibidos (Transport):</p>
      <p>Cantidad de Reportes:</p>
      <p>Paquetes Enviados:</p>
      <p>Promedio de Pérdida de Paquetes:</p>
      <p>Promedio de RTT:</p>
      <p>Tiempo de Streaming:</p>
    </div>

    <!-- Lista de peers -->
    <div
      id="peerList"
      class="fixed bottom-0 right-0 bg-gray-900 bg-opacity-75 text-white p-2 m-2 rounded text-sm max-h-60 overflow-auto"
    >
      <h3 class="font-bold">Peers Conectados</h3>
      <ul id="peers"></ul>
    </div>
    <script src="/socket.io/socket.io.js"></script>
    <script src="/forceH264.js"></script>
    <script src="/broadcast.js"></script>
  </body>
</html>
